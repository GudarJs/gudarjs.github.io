{{ define "header" }}

<div class="profile-teaser media flex-column flex-md-row">
  <img class="profile-image mb-3 mb-md-0 mr-md-5 ml-md-0 rounded mx-auto" src="assets/images/profile.jpg" alt="">
  <div class="media-body text-center text-md-left">
    <div class="lead">Hello, my name is</div>
      <h2 class="mt-0 display-4 font-weight-bold">Steve Doe</h2>
      <div class="bio mb-3">I'm a full-stack developer specialised in frontend and backend development for complex scalable web apps. I write about web development on <a class="link-on-bg" href="blog.html">my blog</a> and regularly <a class="link-on-bg" href="talks.html">speak</a> at various web conferences and meetups. Want to know how I may help your project? Check out my project <a class="link-on-bg" href="projects.html">case studies</a> and <a class="link-on-bg" href="resume.html">resume</a>.
      </div><!--//bio-->
    <a class="theme-btn-on-bg btn font-weight-bold theme-btn-cta" href="contact.html">Hire Me</a>
  </div><!--//media-body-->
</div><!--//profile-teaser-->

{{ end }}


{{ define "main" }}
  <section class="skills-section section py-5">
    <div class="container">
      <h3 class="section-title font-weight-bold text-center mb-3">Skills Overview</h3>
      <div class="section-intro mx-auto text-center mb-5 text-secondary">I have more than 8 years' experience building rich web applications for clients all over the world. Below is a quick overview of my main technical skill sets and tools I use. Want to find out more about my experience? <a href="resume.html">Check out my online resume</a>.</div>
      
      <div class="skills-blocks mx-auto pt-5">
        <div class="row">

          {{ range $.Site.Data.skills.sections }}
            <div class="skills-block col-12 col-lg-4 mb-5 mb-3 mb-lg-0">
              <div class="skills-block-inner bg-white shadow-sm py-4 px-5 position-relative">
                <h4 class="skills-cat text-center mb-3 mt-5">{{ .name }}</h4>
                <div class="skills-icon-holder position-absolute d-inline-block rounded-circle text-center">
                  <img class="skills-icon" src="{{ .icon }}">
                </div>
                <ul class="skills-list list-unstyled text-secondary">
                  {{ range .skills }}
                  <li class="mb-2"><i class="fas fa-check mr-2 text-primary"></i>{{ . }}</li>
                  {{ end }}
                </ul>
              </div><!--//skills-block-inner-->
            </div><!--//skills-block-->
          {{ end }}
          
        </div><!--//row-->
      </div>
    </div><!--//container-->
  </section><!--//skills-section-->


  <section class="section-proof section bg-white py-5">
    <div class="container">
      <h3 class="section-title font-weight-bold text-center mb-5">Great clients I've worked with</h3>
      <div class="logos row mb-5">
        <div class="logo px-3 col-6 col-md-4 col-lg-2 mr-0 px-md-5 px-lg-4"><a class="logo-link" href="project.html"><img class="img-fluid svg-ie-fix" src="images/logos/logo-1.svg"></a></div>
        <div class="logo px-3 col-6 col-md-4 col-lg-2 mr-0 px-md-5 px-lg-4"><a class="logo-link" href="project.html"><img class="img-fluid svg-ie-fix" src="images/logos/logo-2.svg"></a></div>
        <div class="logo px-3 col-6 col-md-4 col-lg-2 mr-0 px-md-5 px-lg-4"><a class="logo-link" href="project.html"><img class="img-fluid svg-ie-fix" src="images/logos/logo-3.svg"></a></div>
        <div class="logo px-3 col-6 col-md-4 col-lg-2 mr-0 px-md-5 px-lg-4"><a class="logo-link" href="project.html"><img class="img-fluid svg-ie-fix" src="images/logos/logo-4.svg"></a></div>
        <div class="logo px-3 col-6 col-md-4 col-lg-2 mr-0 px-md-5 px-lg-4"><a class="logo-link" href="project.html"><img class="img-fluid svg-ie-fix" src="images/logos/logo-5.svg"></a></div>
        <div class="logo px-3 col-6 col-md-4 col-lg-2 mr-0 px-md-5 px-lg-4"><a class="logo-link" href="project.html"><img class="img-fluid svg-ie-fix" src="images/logos/logo-6.svg"></a></div>
      </div>
    </div>
  </section>
  {{ $mainSections := (slice "projects") }}
  {{ $section := where .Site.RegularPages "Section" "in" $mainSections }}
  {{ range (first 4 $section) }}
    <div class="relative w-100 mb4">
      {{ .Title }}
    </div>
  {{ end }}

  {{ $mainSections := (slice "blog") }}
  {{ $section := where .Site.RegularPages "Section" "in" $mainSections }}
  {{ range (first 4 $section) }}
    <div class="relative w-100 mb4">
      {{ .Title }}
    </div>
  {{ end }}

  <article class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray">
    {{ .Content }}
  </article>
  {{/* Define a section to pull recent posts from. For Hugo 0.20 this will default to the section with the most number of pages. */}}
  {{ $mainSections := .Site.Params.mainSections | default (slice "post") }}
  {{/* Create a variable with that section to use in multiple places. */}}
  {{ $section := where .Site.RegularPages "Section" "in" $mainSections }}
  {{/* Check to see if the section is defined for ranging through it */}}
  {{ $section_count := len $section }}
  {{ if ge $section_count 1 }}
    {{/* Derive the section name  */}}
    {{ $section_name := index (.Site.Params.mainSections) 0 }}

    <div class="pa3 pa4-ns w-100 w-70-ns center">
      {{/* Use $section_name to get the section title. Use "with" to only show it if it exists */}}
       {{ with .Site.GetPage "section" $section_name }}
          <h1 class="flex-none">
            {{ $.Param "recent_copy" | default (i18n "recentTitle" .) }}
          </h1>
        {{ end }}

      {{ $n_posts := $.Param "recent_posts_number" | default 3 }}

      <section class="w-100 mw8">
        {{/* Range through the first $n_posts items of the section */}}
        {{ range (first $n_posts $section) }}
          <div class="relative w-100 mb4">
            {{ partial "summary-with-image.html" . }}
          </div>
        {{ end }}
      </section>

      {{ if ge $section_count (add $n_posts 1) }}
      <section class="w-100">
        <h1 class="f3">{{ i18n "more" }}</h1>
        {{/* Now, range through the next four after the initial $n_posts items. Nest the requirements, "after" then "first" on the outside */}}
        {{ range (first 4 (after $n_posts $section))  }}
          <h2 class="f5 fw4 mb4 dib mr3">
            <a href="{{ .RelPermalink }}" class="link black dim">
              {{ .Title }}
            </a>
          </h2>
        {{ end }}

        {{/* As above, Use $section_name to get the section title, and URL. Use "with" to only show it if it exists */}}
        {{ with .Site.GetPage "section" $section_name }}
          <a href="{{ .RelPermalink }}" class="link db f6 pa2 br3 bg-mid-gray white dim w4 tc">{{ i18n "allTitle" . }}</a>
        {{ end }}
        </section>
      {{ end }}

      </div>
  {{ end }}
{{ end }}
